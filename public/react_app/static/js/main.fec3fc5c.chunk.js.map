{"version":3,"sources":["state/actions.js","Pages/RegisterPage/RegisterPage.jsx","Pages/Login/Login.jsx","components/HotelCard/HotelCard.jsx","Pages/Hotels/HotelsPage.jsx","components/DateInput/DateInput.jsx","components/Card/Card.jsx","Pages/Home/Home.jsx","Pages/HotelRooms/HotelRooms.jsx","components/Avatar/Avatar.jsx","components/Header/Header.jsx","utils/formatDate.js","state/rootReducer.js","components/Table/Table.jsx","Pages/MyReservationsPage/MyReservations.jsx","Pages/AddHotel/AddHotel.jsx","Pages/AddRoom/AddRoom.jsx","App.js","reportWebVitals.js","index.js"],"names":["actionTypes","REMOVE_ROOM","SET_ERROR","SET_AVAILABLE_ROOMS","SET_HOTELS","SET_USER","SET_USER_RESERVATIONS","SET_AUTH_ERROR","axios","defaults","withCredentials","setError","stateContainer","isError","errorText","dispatch","type","data","getAvailableRooms","d1","Date","state","fromDate","d2","toDate","getTime","get","then","res","rooms","setAvailableRooms","catch","console","log","getUserReservations","context","headers","Authorization","auth","token","err","toast","error","getHotels","hotels","setHotels","setFromDate","SET_FROM_DATE","setToDate","SET_TO_DATE","useStyles","makeStyles","theme","root","margin","spacing","width","BasicTextFields","history","useHistory","classes","useContext","Context","React","useState","name","email","password","confirmPassword","setData","errors","handleChange","field","event","prevState","target","value","className","noValidate","autoComplete","TextField","id","onChange","e","label","Button","onClick","Object","keys","forEach","key","test","toLowerCase","String","length","pass","values","validate","post","result","registerUserHOC","registerUser","push","user","to","helperText","message","response","status","loginUserHOC","loginUser","maxWidth","minWidth","marginBottom","marginRight","media","height","MediaCard","title","hotelId","Card","CardActionArea","CardMedia","image","CardContent","Typography","gutterBottom","variant","component","CardActions","size","color","HotelsPage","vairant","map","hotel","container","display","flexWrap","textField","marginLeft","DatePickers","dateSetter","defaultValue","InputLabelProps","shrink","number","price","capacity","roomId","action","reservation","room_id","user_id","startDate","endDate","reserveRoom","Home","setCapacity","filteredList","setFilteredList","useEffect","availableRooms","filter","room","style","marginTop","IconButton","varaint","hotel_name","room_number","price_per_night","HotelsRooms","setRooms","useParams","filteredRooms","parseInt","hotel_id","orange","palette","getContrastText","deepOrange","backgroundColor","purple","deepPurple","LetterAvatars","Avatar","toUpperCase","flexGrow","menuButton","ButtonAppBar","open","AuthActions","AppBar","position","Toolbar","today","date","year","getFullYear","month","getMonth","day","getDate","format","intialState","myReservations","rootReducer","table","BasicTable","rows","TableContainer","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","row","scope","start_date","end_date","MyReservations","AddHotel","setName","CreateHotel","AddRoom","required","createContext","list","listItem","textDecoration","App","useReducer","isOpen","setIsOpen","AdminActions","ListItem","ListItemIcon","AddBox","ListItemText","primary","Provider","Drawer","onClose","List","HomeOutlined","Hotel","admin","ListRounded","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wdAEaA,EAAc,CACzBC,YAAa,cACbC,UAAW,YACXC,oBAAqB,sBACrBC,WAAY,aACZC,SAAU,WACVC,sBAAuB,wBACvBC,eAAgB,kBAGlBC,IAAMC,SAASC,iBAAkB,EAE1B,IAAMC,EAAW,SAACC,EAAgBC,GAA6B,IAApBC,EAAmB,uDAAP,GAC5DF,EAAeG,SAAS,CACtBC,KAAMhB,EAAYE,UAClBe,KAAM,CAAEJ,UAASC,gBA4CRI,EAAoB,SAACN,GAChC,IAAMO,EAAK,IAAIC,KAAKR,EAAeS,MAAMC,UACnCC,EAAK,IAAIH,KAAKR,EAAeS,MAAMG,QAGrCL,EAAGM,UAAYF,EAAGE,UACpBd,EACEC,GACA,EACA,wDAIJD,EAASC,GAAgB,GACzBJ,IACGkB,IADH,sCAEmCd,EAAeS,MAAMC,SAFxD,iBAEyEV,EAAeS,MAAMG,OAF9F,MAIGG,MAAK,SAACC,GAAD,OAxBuB,SAAChB,EAAgBiB,GAChDjB,EAAeG,SAAS,CACtBC,KAAMhB,EAAYG,oBAClBc,KAAMY,IAqBSC,CAAkBlB,EAAgBgB,EAAIX,SACpDc,MAAMC,QAAQC,OAGNC,EAAsB,SAACC,GAClC3B,IACGkB,IAAI,uBAAwB,CAC3BU,QAAS,CACPC,cAAc,UAAD,OAAYF,EAAQd,MAAMiB,KAAKC,UAG/CZ,MAAK,SAACC,GACLO,EAAQpB,SAAS,CACfC,KAAMhB,EAAYM,sBAClBW,KAAMW,EAAIX,UAGbc,OAAM,SAACS,GACNR,QAAQC,IAAIO,GACZC,IAAMC,MAAM,4BAQLC,EAAY,SAAC/B,GACxBJ,IACGkB,IAAI,eACJC,MAAK,SAACC,IANc,SAAChB,EAAgBgC,GACxChC,EAAeG,SAAS,CAAEC,KAAMhB,EAAYI,WAAYa,KAAM2B,IAM1DC,CAAUjC,EAAgBgB,EAAIX,SAE/Bc,MAAMC,QAAQC,MAsBNa,EAAc,SAAClC,GAAD,OAAoB,SAACU,GAC9CV,EAAeG,SAAS,CAAEC,KAAMhB,EAAY+C,cAAezB,eAEhD0B,EAAY,SAACpC,GAAD,OAAoB,SAACY,GAC5CZ,EAAeG,SAAS,CAAEC,KAAMhB,EAAYiD,YAAazB,a,OClIrD0B,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACF,QAAS,CACLC,OAAQF,EAAMG,QAAQ,GACtBC,MAAO,QAGTF,OAAQ,UAEdC,QAAQ,CACJC,MAAO,WAKE,SAASC,IACtB,IAAMC,EAAUC,cACVC,EAAUV,IACVf,EAAU0B,qBAAWC,IAE3B,EAAyBC,IAAMC,SAAS,CACtCC,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,gBAAgB,KAJlB,mBAAOnD,EAAP,KAAaoD,EAAb,KAMMC,EAAS,CACbL,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,gBAAgB,IAEZG,EAAe,SAACC,EAAOC,GAC3BJ,GAAQ,SAAAK,GACN,OAAO,2BACFA,GADL,kBAEGF,EAAQC,EAAME,OAAOC,YAgD5B,OACI,qBAAKC,UAAWjB,EAAQL,QAAxB,SACE,uBAAMsB,UAAWjB,EAAQP,KAAMyB,YAAU,EAACC,aAAa,MAAvD,UACE,8BACE,cAACC,EAAA,EAAD,CAAWC,GAAG,iBAAiBC,SAAU,SAACC,GAAD,OAAOZ,EAAa,OAAQY,IAAKC,MAAM,WAElF,8BACE,cAACJ,EAAA,EAAD,CAAWC,GAAG,iBAAiBG,MAAM,QAAQF,SAAU,SAACC,GAAD,OAAOZ,EAAa,QAASY,QAEtF,8BACE,cAACH,EAAA,EAAD,CAAWC,GAAG,iBAAiBG,MAAM,WAAWF,SAAU,SAACC,GAAD,OAAOZ,EAAa,WAAYY,IAAKnE,KAAK,eAEtG,8BACE,cAACgE,EAAA,EAAD,CAAWC,GAAG,iBAAiBG,MAAM,kBAAkBF,SAAU,SAACC,GAAD,OAAOZ,EAAa,kBAAmBY,IAAKnE,KAAK,eAElH,cAACqE,EAAA,EAAD,CAAQC,QA1BG,YAjCJ,SAACrE,GAEhBsE,OAAOC,KAAKvE,GAAMwE,SAAQ,SAAAC,GACpBzE,EAAKyE,GAGPpB,EAAOoB,GAAO,GAFdpB,EAAOoB,GAAOA,EAAM,wBASpBpB,EAAOH,UAHC,4JAGewB,KAAK1E,EAAKiD,MAAM0B,iBACzCtB,EAAOJ,MAAQ,qBAGdjD,EAAKkD,WAAalD,EAAKmD,iBAAoBE,EAAOH,UAAaG,EAAOF,kBACvEE,EAAOF,gBAAkB,yBAEvBE,EAAOH,UAAY0B,OAAO5E,EAAKkD,UAAU2B,OAzCnB,IA0CxBxB,EAAOH,SAAW,4CAEpB,IAAI4B,GAAQ,EAOZ,OANAR,OAAOS,OAAO1B,GAAQmB,SAAQ,SAAAb,GAEzBA,IACDmB,GAAO,MAGJA,GAIME,CAAShF,ID6DK,SAACkB,GAAD,OAAa,SAAClB,GAC3CT,IACG0F,KAAK,gBAAiBjF,GACtBU,MAAK,SAACwE,GACLhE,EAAQpB,SAAS,CAAEC,KAAMhB,EAAYK,SAAUY,KAAMkF,EAAOlF,UAE7Dc,OAAM,SAACoD,GACN1C,IAAMC,MAAM,wBACZV,QAAQC,IAAIkD,OCnESiB,CAAgBjE,EACrCkE,CAAapF,GACbyC,EAAQ4C,KAAK,MAEbtE,QAAQC,IAAIqC,IAmBN,yBCnGZ,IAAMpB,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACF,QAAS,CACLC,OAAQF,EAAMG,QAAQ,GACtBC,MAAO,QAGTF,OAAQ,UAEdC,QAAQ,CACJC,MAAO,WAKE,SAASC,IAEtB,IAAMG,EAAUV,IACVf,EAAU0B,qBAAWC,IAC3B,EAAyBC,IAAMC,SAAS,CACtCE,MAAO,GACPC,SAAU,KAFZ,mBAAOlD,EAAP,KAAaoD,EAAb,KAIMC,EAAS,CACbJ,MAAO,GACPC,SAAU,IAENI,EAAe,SAACC,EAAOC,GAC3BJ,GAAQ,SAAAK,GACN,OAAO,2BACFA,GADL,kBAEGF,EAAQC,EAAME,OAAOC,YA0C5B,OAAGzC,EAAQd,MAAMiB,KAAKiE,KAAa,cAAC,IAAD,CAAUC,GAAG,MAG5C,qBAAK3B,UAAWjB,EAAQL,QAAxB,SACE,uBAAMsB,UAAWjB,EAAQP,KAAMyB,YAAU,EAACC,aAAa,MAAvD,UACE,8BACE,cAACC,EAAA,EAAD,CACAtC,MAAOP,EAAQd,MAAMiB,KAAKI,MAC1B+D,WAAYtE,EAAQd,MAAMiB,KAAKI,MAC/BuC,GAAG,iBAAiBG,MAAM,QAAQF,SAAU,SAACC,GAAD,OAAOZ,EAAa,QAASY,QAE3E,8BACE,cAACH,EAAA,EAAD,CAAWtC,MAAOP,EAAQd,MAAMiB,KAAKI,MAAOuC,GAAG,iBAAiBG,MAAM,WAAWF,SAAU,SAACC,GAAD,OAAOZ,EAAa,WAAYY,IAAKnE,KAAK,eAErI,cAACqE,EAAA,EAAD,CAAQC,QAzBG,YA3BJ,SAACrE,GAEhBsE,OAAOC,KAAKvE,GAAMwE,SAAQ,SAAAC,GACpBzE,EAAKyE,GAGPpB,EAAOoB,GAAO,GAFdpB,EAAOoB,GAAOA,EAAM,wBASpBpB,EAAOH,UAHC,4JAGewB,KAAK1E,EAAKiD,MAAM0B,iBACzCtB,EAAOJ,MAAQ,qBAGjB,IAAI6B,GAAQ,EAOZ,OANAR,OAAOS,OAAO1B,GAAQmB,SAAQ,SAAAb,GAEzBA,IACDmB,GAAO,MAGJA,GAIME,CAAShF,GFmFE,SAACkB,GAAD,OAAa,SAAClB,GACxCT,IACG0F,KAAK,aAAcjF,GACnBU,MAAK,SAACC,GACLO,EAAQpB,SAAS,CAAEC,KAAMhB,EAAYK,SAAUY,KAAMW,EAAIX,OACzDe,QAAQC,IAAI,QAASL,MAEtBG,OAAM,SAACoD,GACN1C,IAAMC,MAAM,wBACZ,IAAIgE,EAAgC,MAAtBvB,EAAEwB,SAASC,OAAiB,oBAAsB,GAChEF,EAAgC,MAAtBvB,EAAEwB,SAASC,OAAiB,eAAiBF,EACvD1E,QAAQC,IAAIyE,GAEZvE,EAAQpB,SAAS,CACfC,KAAMhB,EAAYO,eAClBmC,MAAOgE,IAET1E,QAAQC,IAAIkD,EAAEwB,SAASC,YElGLC,CAAa1E,EAC/B2E,CAAU7F,GAGVe,QAAQC,IAAIqC,IAkBN,yB,gECpFNpB,EAAYC,YAAW,CAC3BE,KAAM,CACJ0D,SAAU,IACVC,SAAU,IACVC,aAAc,OACdC,YAAa,QAEfC,MAAO,CACLC,OAAQ,OAIG,SAASC,EAAT,GAAsC,IAAlBC,EAAiB,EAAjBA,MAAOC,EAAU,EAAVA,QAClC3D,EAAUV,IAEhB,OACE,eAACsE,EAAA,EAAD,CAAM3C,UAAWjB,EAAQP,KAAzB,UACE,eAACoE,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CACE7C,UAAWjB,EAAQuD,MACnBQ,MAAM,4KACNL,MAAM,0BAER,eAACM,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAYC,cAAY,EAACC,QAAQ,KAAKC,UAAU,KAAhD,SACGV,IAEH,cAACO,EAAA,EAAD,CAAYE,QAAQ,QAApB,sNAIJ,cAACE,EAAA,EAAD,UACE,cAAC,IAAD,CAAMzB,GAAI,eAAiBe,EAA3B,SACA,cAAClC,EAAA,EAAD,CAAQ6C,KAAK,QAAQC,MAAM,UAA3B,8BCrCO,SAASC,IACpB,IAAMjG,EAAU0B,qBAAWC,IAK3B,OAJmC,IAAhC3B,EAAQd,MAAMuB,OAAOkD,QACtBnD,EAAUR,GAIR,gCACE,cAAC0F,EAAA,EAAD,CAAYE,QAAQ,KAApB,oBACA,eAACF,EAAA,EAAD,CAAYQ,QAAQ,YAApB,UAAiClG,EAAQd,MAAMuB,OAAOkD,OAAtD,wBACA,qBAAKjB,UAAU,cAAf,SACG1C,EAAQd,MAAMuB,OAAO0F,KAAI,SAAAC,GAAK,OAAI,cAAC,EAAD,CAAqChB,QAASgB,EAAMtD,GAAIqC,MAAOiB,EAAMtE,MAArE,gBAAyBsE,EAAMtD,a,oBCbxE/B,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoF,UAAW,CACTC,QAAS,OACTC,SAAU,QAEZC,UAAW,CACTC,WAAYxF,EAAMG,QAAQ,GAC1B2D,YAAa9D,EAAMG,QAAQ,GAC3BC,MAAO,SAII,SAASqF,EAAT,GAA2C,IAArBC,EAAoB,EAApBA,WAAY1D,EAAQ,EAARA,MACvCxE,EAAiBiD,qBAAWC,IAC5BF,EAAUV,IAElB,OACE,sBAAM2B,UAAWjB,EAAQ4E,UAAW1D,YAAU,EAA9C,SACE,cAACE,EAAA,EAAD,CAEAE,SAAU,SAAAC,GAAC,OAAI2D,EAAW3D,EAAER,OAAOC,QACnClC,MAAO9B,EAAeS,MAAMqB,MAAM7B,QAChCoE,GAAG,OACHG,MAAOA,EACPpE,KAAK,OACL+H,aAAcnI,EAAeS,MAAMC,SACnCuD,UAAWjB,EAAQ+E,UACnBK,gBAAiB,CACfC,QAAQ,OCrBlB,IAAM/F,EAAYC,YAAW,CAC3BE,KAAM,CACJ0D,SAAU,IACVC,SAAU,IACVC,aAAc,OACdC,YAAa,QAEfC,MAAO,CACLC,OAAQ,OAIG,SAASC,EAAT,GAA2D,IAAvCC,EAAsC,EAAtCA,MAAO4B,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,SAAWnE,EAAK,EAALA,GAC5DrB,EAAUV,IACVtC,EAAiBiD,qBAAWC,IAGlC,OACE,eAAC0D,EAAA,EAAD,CAAM3C,UAAWjB,EAAQP,KAAzB,UACE,eAACoE,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CACE7C,UAAWjB,EAAQuD,MACnBQ,MAAM,iDACNL,MAAM,0BAER,eAACM,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAYC,cAAY,EAACC,QAAQ,KAAKC,UAAU,KAAhD,SACGV,IAEH,eAACO,EAAA,EAAD,CAAYE,QAAQ,QAAQI,MAAM,gBAAgBH,UAAU,IAA5D,2BACiBkB,KAEjB,eAACrB,EAAA,EAAD,CAAYE,QAAQ,QAAQI,MAAM,gBAAgBH,UAAU,IAA5D,sBACYmB,KAEZ,eAACtB,EAAA,EAAD,CAAYE,QAAQ,QAAQI,MAAM,gBAAgBH,UAAU,IAA5D,yBACeoB,WAInB,cAACnB,EAAA,EAAD,UACE,cAAC5C,EAAA,EAAD,CAAQ6C,KAAK,QAAQC,MAAM,UAAU7C,QAAS,kBN7B3B,SAAC1E,EAAgByI,GAC1C,IAAMC,EAAS,CACbtI,KAAMhB,EAAYC,YAClBoJ,UAEIE,EAAc,CAClBC,QAASH,EACTI,QAAS7I,EAAeS,MAAMiB,KAAKiE,KAAKtB,GACxCyE,UAAW9I,EAAeS,MAAMC,SAChCqI,QAAS/I,EAAeS,MAAMG,QAEhChB,IACG0F,KAAK,oBAAqBqD,EAAa,CACtCnH,QAAS,CACPC,cAAe,UAAYzB,EAAeS,MAAMiB,KAAKC,SAGxDZ,MAAK,SAACC,GACc,MAAfA,EAAIgF,QACNnE,YAAM,kCACN7B,EAAeG,SAASuI,IAExB7G,IAAMC,MAAM,cAGfX,OAAM,SAACS,GACNR,QAAQC,IAAIO,GACZC,IAAMC,MAAM,cME0CkH,CAAYhJ,EAAgBqE,IAAhF,2BCzCO,SAAS4E,IACpB,IAAMjJ,EAAiBiD,qBAAWC,IAClC,EAAiCC,IAAMC,SAAS,GAAhD,mBAAOoF,EAAP,KAAiBU,EAAjB,KACA,EAAwC/F,IAAMC,SAAS,IAAvD,mBAAO+F,EAAP,KAAqBC,EAArB,KAKA,OAJAjG,IAAMkG,WAAU,WACZD,EAAgBpJ,EAAeS,MAAM6I,eAAeC,QAAO,SAAAC,GAAI,OAAIA,EAAKhB,UAAYA,QACrF,CAACA,EAAUxI,EAAeS,MAAM6I,iBAG/B,sBAAKrF,UAAU,OAAf,UACA,sBAAKwF,MAAO,CAAC5B,QAAS,OAAQ6B,UAAW,QAAzC,UACI,cAAC,EAAD,CAAWxB,WAAYhG,EAAYlC,GAAiBwE,MAAO,SAC3D,cAAC,EAAD,CAAW0D,WAAY9F,EAAUpC,GAAiBwE,MAAO,OACzD,cAACJ,EAAA,EAAD,CACIE,SAAU,SAAAC,GAAC,OAAI2E,EAAY3E,EAAER,OAAOC,QACpClC,MAAO9B,EAAeS,MAAMqB,MAAM7B,QAClCuE,MAAM,UACNpE,KAAK,SACL+G,QAAQ,WACRtB,WAAY7F,EAAeS,MAAMqB,MAAM5B,YAC3C,cAACyJ,EAAA,EAAD,CAAYjF,QAAS,kBAAMpE,EAAkBN,IAA7C,SACI,cAACyE,EAAA,EAAD,CACIgF,MAAO,CAACzB,WAAW,QACnBb,QAAQ,YAAYI,MAAM,UAF9B,yBASH4B,EAAajE,OAAS,eAAC+B,EAAA,EAAD,CAAY2C,QAAQ,YAApB,+BAAmDT,EAAajE,UAAsB,GACjH,qBAAKjB,UAAU,OAAf,SAEQkF,EAAazB,KAAI,SAAA8B,GACb,OACI,cAAC,EAAD,CACI9C,MAAO8C,EAAKK,WACZvB,OAAQkB,EAAKM,YACbvB,MAAQiB,EAAKO,gBACbvB,SAAUgB,EAAKhB,SACfnE,GAAImF,EAAKnF,aC5CtB,SAAS2F,KACpB,MAA0B5G,mBAAS,IAAnC,mBAAOnC,EAAP,KAAcgJ,EAAd,KACM1I,EAAU0B,qBAAWC,IACnByD,EAAYuD,cAAZvD,QAgBR,OAfA0C,qBAAW,WASoC,IAAxC9H,EAAQd,MAAM6I,eAAepE,QAC5B5E,EAAkBiB,GAEtB,IAAM4I,EAAgB5I,EAAQd,MAAM6I,eAAeC,QAAO,SAAAC,GAAI,OAAIY,SAASZ,EAAKa,YAAcD,SAASzD,MACvGsD,EAASE,KACV,CAACxD,EAASpF,EAAQd,MAAM6I,eAAgB/H,IAEvC,gCACKN,EAAMiE,OAAS,EAAI,4CAAejE,EAAM,GAAG4I,WAAxB,YAAgD,2CACnE5I,EAAMyG,KAAI,SAAA8B,GACP,OAAO,cAAC,EAAD,CACK9C,MAAO8C,EAAKK,WACZvB,OAAQkB,EAAKM,YACbvB,MAAQiB,EAAKO,gBACbvB,SAAUgB,EAAKhB,SACfnE,GAAImF,EAAKnF,W,0EC/B/B/B,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJoF,QAAS,OACT,QAAS,CACPnF,OAAQF,EAAMG,QAAQ,KAG1B2H,OAAQ,CACN/C,MAAO/E,EAAM+H,QAAQC,gBAAgBC,KAAW,MAChDC,gBAAiBD,KAAW,MAE9BE,OAAQ,CACNpD,MAAO/E,EAAM+H,QAAQC,gBAAgBI,KAAW,MAChDF,gBAAiBE,KAAW,UAIjB,SAASC,GAAT,GAAgC,IAAD,EAAPxH,EAAO,EAAPA,KAC/BL,EAAUV,KAEhB,OACE,qBAAK2B,UAAWjB,EAAQP,KAAxB,SACE,cAACqI,GAAA,EAAD,CAAQ7G,UAAWjB,EAAQsH,OAA3B,mBAAoCjH,EAAK,UAAzC,aAAoC,EAAS0H,kBCfnD,IAAMzI,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJuI,SAAU,GAEZC,WAAY,CACV3E,YAAa9D,EAAMG,QAAQ,IAE7B+D,MAAO,CACLsE,SAAU,OAIC,SAASE,GAAT,GAA+B,IAARC,EAAO,EAAPA,KAC9B5J,EAAU0B,qBAAWC,IACrBF,EAAUV,KACV8I,EAAc,WAClB,OAAO,qCACC,cAAC,IAAD,CAAMxF,GAAG,SAAT,SACE,cAACnB,EAAA,EAAD,CAAQgF,MAAO,CAAClC,MAAO,SAAvB,qBAEF,cAAC,IAAD,CAAM3B,GAAG,YAAT,SACE,cAACnB,EAAA,EAAD,CAAQgF,MAAO,CAAClC,MAAO,SAAvB,4BAKZ,OACE,qBAAKtD,UAAWjB,EAAQP,KAAxB,SACE,cAAC4I,GAAA,EAAD,CAAQC,SAAS,SAAjB,SACE,eAACC,GAAA,EAAD,WACE,cAAC5B,EAAA,EAAD,CAAYjF,QAAS,kBAAKyG,GAAK,IAA/B,SACE,cAAC,KAAD,CAAU1B,MAAO,CAAElC,MAAO,aAE5B,cAACN,EAAA,EAAD,CAAYE,QAAQ,KAAKlD,UAAWjB,EAAQ0D,MAA5C,yBAGDnF,EAAQd,MAAMiB,KAAKiE,KAAO,cAAC,GAAD,CAAQtC,KAAM9B,EAAQd,MAAMiB,KAAKiE,KAAKtC,OAAU,cAAC+H,EAAD,WChD5E,ICEDI,GDFgB,SAACC,GACrB,IAAIC,EAAOD,EAAKE,cACZC,EAAQH,EAAKI,WAAa,EAC1BC,EAAML,EAAKM,UAUf,OALAH,EAAyB,KAFzBA,EAAQ3G,OAAO2G,IAED1G,OAAe,IAAM0G,EAAQA,EAC3CE,EAAqB,IAAfA,EAAI5G,OAAe,IAAM4G,EAAMA,EAEvB,UAAMJ,EAAN,YAAcE,EAAd,YAAuBE,GCTzBE,CAAO,IAAIxL,MACZyL,GAAc,CACzBvL,SAAU8K,GACV5K,OAAQ4K,GACR1J,MAAO,CACL7B,SAAS,EACTC,UAAW,IAEboJ,eAAgB,GAChBtH,OAAQ,GACRN,KAAM,CACJiE,KAAM,KACNhE,MAAO,KACPG,MAAO,MAEToK,eAAgB,IA8DHC,GA5DK,WAAkC,IAAjC1L,EAAgC,uDAAxBwL,GAAavD,EAAW,uCAGnD,OAFAtH,QAAQC,IAAI,gBACZD,QAAQC,IAAI,CAAEqH,WACNA,EAAOtI,MACb,KAAKhB,EAAYG,oBACf,OAAO,2BACFkB,GADL,IAEE6I,eAAgBZ,EAAOrI,OAE3B,KAAKjB,EAAYC,YACf,OAAO,2BACFoB,GADL,IAEE6I,eAAgB7I,EAAM6I,eAAeC,QACnC,SAACC,GAAD,OAAUA,EAAKnF,KAAOqE,EAAOD,YAGnC,KAAKrJ,EAAY+C,cACf,OAAO,2BACF1B,GADL,IAEEC,SAAUgI,EAAOhI,WAErB,KAAKtB,EAAYiD,YACf,OAAO,2BACF5B,GADL,IAEEG,OAAQ8H,EAAO9H,SAEnB,KAAKxB,EAAYI,WACf,OAAO,2BACFiB,GADL,IAEEuB,OAAQ0G,EAAOrI,OAGnB,KAAKjB,EAAYE,UACf,OAAO,2BACFmB,GADL,IAEEqB,MAAO4G,EAAOrI,OAElB,KAAKjB,EAAYO,eACf,OAAO,2BACFc,GADL,IAEEiB,KAAK,2BACAjB,EAAMiB,MADP,IAEFI,MAAO4G,EAAO5G,UAGpB,KAAK1C,EAAYK,SACf,OAAO,2BACFgB,GADL,IAEEiB,KAAMgH,EAAOrI,OAEjB,KAAKjB,EAAYM,sBACf,OAAO,2BACFe,GADL,IAEEyL,eAAgBxD,EAAOrI,OAE3B,QACE,OAAOI,I,qECjEP6B,GAAYC,YAAW,CAC3B6J,MAAO,CACLhG,SAAU,OAMC,SAASiG,GAAT,GAA6B,IAARC,EAAO,EAAPA,KAC5BtJ,EAAUV,KAEhB,OACE,cAACiK,GAAA,EAAD,CAAgBnF,UAAWoF,KAA3B,SACE,eAACC,GAAA,EAAD,CAAOxI,UAAWjB,EAAQoJ,MAAO,aAAW,eAA5C,UACE,cAACM,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,yBACA,cAACA,GAAA,EAAD,CAAWC,MAAM,QAAjB,kBACA,cAACD,GAAA,EAAD,CAAWC,MAAM,QAAjB,gBACA,cAACD,GAAA,EAAD,CAAWC,MAAM,QAAjB,8BAGJ,cAACC,GAAA,EAAD,UACGR,EAAK5E,KAAI,SAACqF,GAAD,OACR,eAACJ,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAWxF,UAAU,KAAK4F,MAAM,MAAhC,SACGD,EAAI1J,OAEP,cAACuJ,GAAA,EAAD,CAAWC,MAAM,QAAjB,SAA0BE,EAAIE,aAC9B,cAACL,GAAA,EAAD,CAAWC,MAAM,QAAjB,SAA0BE,EAAIG,WAE9B,cAACN,GAAA,EAAD,CAAWC,MAAM,QAAjB,SAA0BE,EAAIjD,gBAPjBiD,EAAI1J,gBCzBhB,SAAS8J,KACpB,IAAM5L,EAAW0B,qBAAWC,IAO5B,OANAmG,qBAAU,WACH9H,EAAQd,MAAMiB,KAAKiE,MAClBrE,EAAoBC,KAEzB,CAACA,EAAQd,MAAMiB,KAAKiE,KAAMrE,IAEzBC,EAAQd,MAAMiB,KAAKiE,KAIhB,cAAC,GAAD,CAAO2G,KAAM/K,EAAQd,MAAMyL,kBAH9BrK,YAAM,sBACC,cAAC,IAAD,CAAU+D,GAAG,YCXb,SAASwH,KACpB,IAAM7L,EAAU0B,qBAAWC,IAC3B,EAAwBE,mBAAS,IAAjC,mBAAOC,EAAP,KAAagK,EAAb,KACA,OAAI9L,EAAQd,MAAMiB,KAAKiE,KAGnB,8BACI,iCACI,cAACsB,EAAA,EAAD,CAAYE,QAAQ,KAApB,2BACA,8BACA,cAAC/C,EAAA,EAAD,CACAE,SAAU,SAAAC,GAAC,OAAI8I,EAAQ9I,EAAER,OAAOC,QAChCG,aAAa,QAAQd,KAAK,OAAOmB,MAAM,iBAEvC,cAACC,EAAA,EAAD,CAAQC,QAAS,kBf6FN,SAACnD,EAAS8B,GACnCzD,IACG0F,KACC,cACA,CAAEjC,QACF,CACE7B,QAAS,CACPC,cAAe,UAAYF,EAAQd,MAAMiB,KAAKC,SAInDZ,MAAK,SAACC,GAELe,EAAUR,Me1GuB+L,CAAY/L,EAAS8B,IAA5C,yBAXwB,cAAC,IAAD,CAAUuC,GAAG,WCEtC,SAAS2H,KACpB,IAAMhM,EAAU4B,IAAMF,WAAWC,IACjC,EAAwBC,IAAMC,SAAS,CACnC0G,YAAY,KACZO,SAAU,KACVN,gBAAiB,KACjBvB,SAAU,OAJd,mBAAOnI,EAAP,KAAaoD,EAAb,KAMMX,EAAUC,cACT4C,EAAQpE,EAAQd,MAAMiB,KAAtBiE,KACDhC,EAAe,SAAAY,GAAC,OAAId,GAAQ,SAAAK,GAAS,kCAASA,GAAT,kBAAqBS,EAAER,OAAOV,KAAO+G,SAAS7F,EAAER,OAAOC,aAqBlG,OAPAb,IAAMkG,WAAU,WACT1D,IACKpE,EAAQd,MAAMuB,OAAOkD,QACrBnD,EAAUR,MAGnB,IACCoE,EAGA,8BACI,iCACI,cAACsB,EAAA,EAAD,CAAYE,QAAQ,KAApB,0BACA,8BACI,cAAC/C,EAAA,EAAD,CACAE,SAAUX,EACV6J,UAAQ,EACRnK,KAAK,cACLc,aAAa,QAAQK,MAAM,kBAE/B,8BACI,yBAAQF,SAAUX,EAAcN,KAAK,WAArC,UACI,oDACK9B,EAAQd,MAAMuB,OAAO0F,KAAI,SAAAC,GAAK,OAAI,wBAER3D,MAAO2D,EAAMtD,GAFL,SAEUsD,EAAMtE,MAFhB,iBAEpBsE,EAAMtD,aAKjC,8BACI,cAACD,EAAA,EAAD,CACAE,SAAUX,EACN6J,UAAQ,EACRnK,KAAK,kBACLc,aAAa,QAAQK,MAAM,qCAGnC,8BACI,cAACJ,EAAA,EAAD,CACAE,SAAUX,EACN6J,UAAQ,EACRnK,KAAK,WACLc,aAAa,QAAQK,MAAM,oBAInC,cAACC,EAAA,EAAD,CAAQC,QA5DC,WACjB9E,IAAM0F,KAAK,aAAcjF,EAAM,CAC3BmB,QAAS,CACLC,cAAe,UAAYF,EAAQd,MAAMiB,KAAKC,SAGrDZ,MAAK,SAAAC,GACFa,YAAM,6BACNiB,EAAQ4C,KAAK,QAEhBvE,MAAMC,QAAQC,MAkDP,8BAxCK,cAAC,IAAD,CAAUuE,GAAG,WCtB3B,IAAM1C,GAAUC,IAAMsK,gBAEvBnL,GAAYC,YAAW,CAC3BmL,KAAM,CACJ9K,MAAO,KAET+K,SAAU,CACRpG,MAAO,OACPqG,eAAgB,UAwILC,OApIf,WAAgB,IAAD,MACb,EAA0BC,qBAAW3B,GAAaF,IAAlD,mBAAOxL,EAAP,KAAcN,EAAd,KACM6C,EAAUV,KAChB,EAA4Ba,IAAMC,UAAS,GAA3C,mBAAO2K,EAAP,KAAeC,EAAf,KAEA7K,IAAMkG,WAAU,WACdzJ,IAAMkB,IAAI,wBAAwBK,MAAMC,QAAQC,OAC/C,IAEH,IAAM4M,EACJ,qCACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,MAEF,cAAC,IAAD,CACEnK,UAAWjB,EAAQ2K,SACnB/H,GAAG,aACHlB,QAAS,kBAAMsJ,GAAU,SAACvN,GAAD,OAAYA,MAHvC,SAKE,cAAC4N,EAAA,EAAD,CAAcC,QAAS,mBAG3B,eAACJ,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,MAEF,cAAC,IAAD,CACEnK,UAAWjB,EAAQ2K,SACnB/H,GAAG,YACHlB,QAAS,kBAAMsJ,GAAU,SAACvN,GAAD,OAAYA,MAHvC,SAKE,cAAC4N,EAAA,EAAD,CAAcC,QAAS,qBAM/B,OACE,cAACpL,GAAQqL,SAAT,CACEvK,MAAO,CACLvD,QACAN,YAHJ,SAME,eAAC,IAAD,WACE,sBAAK8D,UAAU,MAAf,UACE,cAAC,IAAD,IACA,cAAC,GAAD,CAAQkH,KAAM6C,IACd,cAACQ,EAAA,EAAD,CACEvK,UAAU,WACVkH,KAAM4C,EACNU,QAAS,kBAAMT,GAAU,IAH3B,SAKE,qBAAK/J,UAAWjB,EAAQ0K,KAAxB,SACE,eAACgB,EAAA,EAAD,WACE,eAACR,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,cAACQ,EAAA,EAAD,MAEF,cAAC,IAAD,CACE1K,UAAWjB,EAAQ2K,SACnB/H,GAAG,IACHlB,QAAS,kBAAMsJ,GAAU,SAACvN,GAAD,OAAYA,MAHvC,SAKE,cAAC4N,EAAA,EAAD,CAAcC,QAAS,cAG3B,eAACJ,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,cAACS,EAAA,EAAD,MAEF,cAAC,IAAD,CACE3K,UAAWjB,EAAQ2K,SACnB/H,GAAG,UACHlB,QAAS,kBAAMsJ,GAAU,SAACvN,GAAD,OAAYA,MAHvC,SAKE,cAAC4N,EAAA,EAAD,CAAcC,QAAS,iBAG1B,UAAA7N,EAAMiB,KAAKiE,YAAX,eAAiBkJ,OAAQZ,EAAe,KACzC,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,cAACW,EAAA,EAAD,MAEF,cAAC,IAAD,CACE7K,UAAWjB,EAAQ2K,SACnB/H,GAAG,kBACHlB,QAAS,kBAAMsJ,GAAU,SAACvN,GAAD,OAAYA,MAHvC,SAKE,cAAC4N,EAAA,EAAD,CAAcC,QAAS,kCAOnC,eAAC,IAAD,WACE,cAAC,IAAD,CAAOS,KAAK,SAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,uBAAZ,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,YAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOC,OAAK,EAACD,KAAK,IAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,UAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,kBAAZ,SACE,cAAC5B,GAAD,OAED,UAAA1M,EAAMiB,KAAKiE,YAAX,eAAiBkJ,QAChB,cAAC,IAAD,CAAOE,KAAK,aAAZ,SACE,cAAC3B,GAAD,OAGH,UAAA3M,EAAMiB,KAAKiE,YAAX,eAAiBkJ,QAChB,cAAC,IAAD,CAAOE,KAAK,YAAZ,SACE,cAACxB,GAAD,eCjJC0B,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBpO,MAAK,YAAkD,IAA/CqO,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BZ,O","file":"static/js/main.fec3fc5c.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nexport const actionTypes = {\r\n  REMOVE_ROOM: \"REMOVE_ROOM\",\r\n  SET_ERROR: \"SET_ERROR\",\r\n  SET_AVAILABLE_ROOMS: \"SET_AVAILABLE_ROOMS\",\r\n  SET_HOTELS: \"SET_HOTELS\",\r\n  SET_USER: \"SET_USER\",\r\n  SET_USER_RESERVATIONS: \"SET_USER_RESERVATIONS\",\r\n  SET_AUTH_ERROR: \"SET_AUTH_ERROR\",\r\n};\r\n\r\naxios.defaults.withCredentials = true;\r\n\r\nexport const setError = (stateContainer, isError, errorText = \"\") => {\r\n  stateContainer.dispatch({\r\n    type: actionTypes.SET_ERROR,\r\n    data: { isError, errorText },\r\n  });\r\n};\r\nexport const setAuthError = (context, error) => {\r\n  context.dispatch({ type: actionTypes.SET_AUTH_ERROR, error });\r\n};\r\n\r\nexport const reserveRoom = (stateContainer, roomId) => {\r\n  const action = {\r\n    type: actionTypes.REMOVE_ROOM,\r\n    roomId,\r\n  };\r\n  const reservation = {\r\n    room_id: roomId,\r\n    user_id: stateContainer.state.auth.user.id,\r\n    startDate: stateContainer.state.fromDate,\r\n    endDate: stateContainer.state.toDate,\r\n  };\r\n  axios\r\n    .post(\"/api/reservations\", reservation, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + stateContainer.state.auth.token,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      if (res.status === 201) {\r\n        toast(\"this room was reserved for you\");\r\n        stateContainer.dispatch(action);\r\n      } else {\r\n        toast.error(\"problem\");\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      toast.error(\"problem\");\r\n    });\r\n};\r\n\r\nexport const setAvailableRooms = (stateContainer, rooms) => {\r\n  stateContainer.dispatch({\r\n    type: actionTypes.SET_AVAILABLE_ROOMS,\r\n    data: rooms,\r\n  });\r\n};\r\nexport const getAvailableRooms = (stateContainer) => {\r\n  const d1 = new Date(stateContainer.state.fromDate);\r\n  const d2 = new Date(stateContainer.state.toDate);\r\n\r\n  // if startDate is after endDate\r\n  if (d1.getTime() > d2.getTime()) {\r\n    setError(\r\n      stateContainer,\r\n      true,\r\n      \"reservation End Date can't be before starting date \"\r\n    );\r\n    return;\r\n  }\r\n  setError(stateContainer, false);\r\n  axios\r\n    .get(\r\n      `api/reservations/date?from=\"${stateContainer.state.fromDate}\"&to=\"${stateContainer.state.toDate}\"`\r\n    )\r\n    .then((res) => setAvailableRooms(stateContainer, res.data))\r\n    .catch(console.log);\r\n};\r\n\r\nexport const getUserReservations = (context) => {\r\n  axios\r\n    .get(\"/api/my-reservations\", {\r\n      headers: {\r\n        Authorization: `Bearer ${context.state.auth.token}`,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      context.dispatch({\r\n        type: actionTypes.SET_USER_RESERVATIONS,\r\n        data: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      toast.error(\"something went wrong\");\r\n    });\r\n};\r\n\r\n// hotels\r\nexport const setHotels = (stateContainer, hotels) => {\r\n  stateContainer.dispatch({ type: actionTypes.SET_HOTELS, data: hotels });\r\n};\r\nexport const getHotels = (stateContainer) => {\r\n  axios\r\n    .get(\"/api/hotels\")\r\n    .then((res) => {\r\n      setHotels(stateContainer, res.data);\r\n    })\r\n    .catch(console.log);\r\n};\r\n\r\nexport const CreateHotel = (context, name) => {\r\n  axios\r\n    .post(\r\n      \"/api/hotels\",\r\n      { name },\r\n      {\r\n        headers: {\r\n          Authorization: \"Bearer \" + context.state.auth.token,\r\n        },\r\n      }\r\n    )\r\n    .then((res) => {\r\n      // console.log(res.data);\r\n      getHotels(context);\r\n    });\r\n};\r\n\r\n// date setters\r\n// HOC\r\nexport const setFromDate = (stateContainer) => (fromDate) => {\r\n  stateContainer.dispatch({ type: actionTypes.SET_FROM_DATE, fromDate });\r\n};\r\nexport const setToDate = (stateContainer) => (toDate) => {\r\n  stateContainer.dispatch({ type: actionTypes.SET_TO_DATE, toDate });\r\n};\r\n\r\n// AUTH ACTIONS\r\n\r\nexport const registerUserHOC = (context) => (data) => {\r\n  axios\r\n    .post(\"/api/register\", data)\r\n    .then((result) => {\r\n      context.dispatch({ type: actionTypes.SET_USER, data: result.data });\r\n    })\r\n    .catch((e) => {\r\n      toast.error(\"something went wrong\");\r\n      console.log(e);\r\n    });\r\n};\r\nexport const loginUserHOC = (context) => (data) => {\r\n  axios\r\n    .post(\"/api/login\", data)\r\n    .then((res) => {\r\n      context.dispatch({ type: actionTypes.SET_USER, data: res.data });\r\n      console.log(\"RES: \", res);\r\n    })\r\n    .catch((e) => {\r\n      toast.error(\"something went wrong\");\r\n      let message = e.response.status === 401 ? \"wrong credintials\" : \"\";\r\n      message = e.response.status === 500 ? \"server error\" : message;\r\n      console.log(message);\r\n\r\n      context.dispatch({\r\n        type: actionTypes.SET_AUTH_ERROR,\r\n        error: message,\r\n      });\r\n      console.log(e.response.status);\r\n    });\r\n};\r\n","import React, {useContext} from 'react';\r\nimport {Context} from '../../App'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport {registerUserHOC} from '../../state/actions'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n      '& > *': {\r\n          margin: theme.spacing(1),\r\n          width: '25ch',\r\n          \r\n        },\r\n        margin: '0 auto',\r\n  },\r\n  spacing:{\r\n      width: '50%',\r\n      // margin: '0 auto'\r\n  }\r\n}));\r\n\r\nexport default function BasicTextFields() {\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const context = useContext(Context);\r\n  const MIN_PASSWORD_LENGTH = 6;\r\n  const [data, setData]  = React.useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword:''\r\n  })\r\n  const errors = {\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword:''\r\n  };\r\n  const handleChange = (field, event) => {\r\n    setData(prevState => {\r\n      return {\r\n        ...prevState,\r\n        [field]: event.target.value\r\n      }\r\n    })\r\n  }\r\n  const validate = (data) => {\r\n    \r\n    Object.keys(data).forEach(key => {\r\n      if(!data[key]){\r\n        errors[key] = key + ' field is required'\r\n      }else{\r\n        errors[key] = ''\r\n      }\r\n    })\r\n    // eslint-disable-next-line no-use-before-define\r\n    const re =  /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n    // if email is not avalide eamil\r\n    if(!errors.password && !re.test(data.email.toLowerCase())){\r\n      errors.email = 'not a valid email'\r\n    }\r\n    \r\n    if(data.password !== data.confirmPassword && !errors.password && !errors.confirmPassword){\r\n      errors.confirmPassword = 'passwords must match'\r\n    }\r\n    if(!errors.password && String(data.password).length < MIN_PASSWORD_LENGTH){\r\n      errors.password = 'psssword must be at least ' + MIN_PASSWORD_LENGTH + ' charecters .'\r\n    }\r\n    let pass  = true;\r\n    Object.values(errors).forEach(value => {\r\n      // if there is any error\r\n      if(value){\r\n        pass = false\r\n      }\r\n    })\r\n    return pass;\r\n\r\n  }\r\n  const handleSubmit = () => {\r\n    const pass = validate(data);\r\n    if(pass){\r\n      const registerUser = registerUserHOC(context);\r\n      registerUser(data);\r\n      history.push('/')\r\n    }else{\r\n      console.log(errors);\r\n    }\r\n  }\r\n\r\n  return (\r\n      <div className={classes.spacing}>\r\n        <form className={classes.root} noValidate autoComplete=\"off\">\r\n          <div>\r\n            <TextField id=\"standard-basic\" onChange={(e) => handleChange('name', e) } label=\"Name\" />\r\n          </div>\r\n          <div>\r\n            <TextField id=\"standard-basic\" label=\"email\" onChange={(e) => handleChange('email', e) } />\r\n          </div>\r\n          <div>\r\n            <TextField id=\"standard-basic\" label=\"password\" onChange={(e) => handleChange('password', e) } type=\"password\" />\r\n          </div>\r\n          <div>\r\n            <TextField id=\"standard-basic\" label=\"confirmPasswrod\" onChange={(e) => handleChange('confirmPassword', e) } type=\"password\" />\r\n          </div>\r\n            <Button onClick={handleSubmit}>SignUp</Button>\r\n        </form>\r\n      </div>\r\n  );\r\n}","import React, {useContext} from 'react';\r\nimport {Context} from '../../App'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport {loginUserHOC} from '../../state/actions'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n      '& > *': {\r\n          margin: theme.spacing(1),\r\n          width: '25ch',\r\n          \r\n        },\r\n        margin: '0 auto',\r\n  },\r\n  spacing:{\r\n      width: '50%',\r\n      // margin: '0 auto'\r\n  }\r\n}));\r\n\r\nexport default function BasicTextFields() {\r\n\r\n  const classes = useStyles();\r\n  const context = useContext(Context);\r\n  const [data, setData]  = React.useState({\r\n    email: '',\r\n    password: '',\r\n  })\r\n  const errors = {\r\n    email: '',\r\n    password: '',\r\n  };\r\n  const handleChange = (field, event) => {\r\n    setData(prevState => {\r\n      return {\r\n        ...prevState,\r\n        [field]: event.target.value\r\n      }\r\n    })\r\n  }\r\n  const validate = (data) => {\r\n    \r\n    Object.keys(data).forEach(key => {\r\n      if(!data[key]){\r\n        errors[key] = key + ' field is required'\r\n      }else{\r\n        errors[key] = ''\r\n      }\r\n    })\r\n    // eslint-disable-next-line no-use-before-define\r\n    const re =  /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n    // if email is not avalide eamil\r\n    if(!errors.password && !re.test(data.email.toLowerCase())){\r\n      errors.email = 'not a valid email'\r\n    }\r\n    \r\n    let pass  = true;\r\n    Object.values(errors).forEach(value => {\r\n      // if there is any error\r\n      if(value){\r\n        pass = false\r\n      }\r\n    })\r\n    return pass;\r\n\r\n  }\r\n  const handleSubmit = () => {\r\n    const pass = validate(data);\r\n    if(pass){\r\n      const loginUser = loginUserHOC(context)\r\n      loginUser(data)\r\n      \r\n    }else{\r\n      console.log(errors);\r\n    }\r\n  }\r\n\r\n  if(context.state.auth.user) return <Redirect to=\"/\"/>\r\n\r\n  return (\r\n      <div className={classes.spacing}>\r\n        <form className={classes.root} noValidate autoComplete=\"off\">\r\n          <div>\r\n            <TextField \r\n            error={context.state.auth.error}\r\n            helperText={context.state.auth.error}\r\n            id=\"standard-basic\" label=\"email\" onChange={(e) => handleChange('email', e) } />\r\n          </div>\r\n          <div>\r\n            <TextField error={context.state.auth.error} id=\"standard-basic\" label=\"password\" onChange={(e) => handleChange('password', e) } type=\"password\" />\r\n          </div>\r\n            <Button onClick={handleSubmit}>SignIn</Button>\r\n        </form>\r\n      </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: 500,\r\n    minWidth: 400,\r\n    marginBottom: '2rem',\r\n    marginRight: '1rem'\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n});\r\n\r\nexport default function MediaCard({title, hotelId}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image=\"https://images.unsplash.com/photo-1454388683759-ee76c15fee26?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NXx8aG90ZWxzfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60\"\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body1\">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aut, incidunt porro aliquid libero doloribus at dicta neque a quod sit illum, quam omnis ad vel. Alias omnis officiis quibusdam facilis.</Typography>\r\n          \r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions>\r\n        <Link to={\"/hotelRooms/\" + hotelId}>\r\n        <Button size=\"small\" color=\"primary\">\r\n          See Rooms\r\n        </Button>\r\n        </Link>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}","import React, {useContext} from 'react'\r\nimport \"./HotelsPage.css\";\r\nimport HotelCard from '../../components/HotelCard/HotelCard'\r\nimport {Context} from '../../App'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {getHotels} from '../../state/actions'\r\n\r\nexport default function HotelsPage() {\r\n    const context = useContext(Context)\r\n    if(context.state.hotels.length === 0){\r\n      getHotels(context)\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n          <Typography variant=\"h2\">Hotels</Typography>\r\n          <Typography vairant='subtitle1'>{context.state.hotels.length}: hotels available</Typography>\r\n          <div className='hotels-grid'>\r\n            {context.state.hotels.map(hotel => <HotelCard key={`hotel-${hotel.id}`} hotelId={hotel.id} title={hotel.name}/>)}\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n","import React , {useContext} from 'react';\r\nimport {Context} from '../../App'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 200,\r\n  },\r\n}));\r\n\r\nexport default function DatePickers({dateSetter, label}) {\r\n    const stateContainer = useContext(Context);\r\n    const classes = useStyles();\r\n\r\n  return (\r\n    <form className={classes.container} noValidate>\r\n      <TextField\r\n      \r\n      onChange={e => dateSetter(e.target.value)}\r\n      error={stateContainer.state.error.isError}\r\n        id=\"date\"\r\n        label={label}\r\n        type=\"date\"\r\n        defaultValue={stateContainer.state.fromDate}\r\n        className={classes.textField}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n      />\r\n    </form>\r\n  );\r\n}","import React, {useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {Context} from '../../App'\r\nimport {reserveRoom} from '../../state/actions'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: 500,\r\n    minWidth: 400,\r\n    marginBottom: '2rem',\r\n    marginRight: '1rem'\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n});\r\n\r\nexport default function MediaCard({title, number, price, capacity,  id}) {\r\n  const classes = useStyles();\r\n  const stateContainer = useContext(Context)\r\n  \r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image=\"/static/images/cards/contemplative-reptile.jpg\"\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            Room Number:  {number}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            Price :  {price}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            capacity :  {capacity}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions>\r\n        <Button size=\"small\" color=\"primary\" onClick={() => reserveRoom(stateContainer, id) }>\r\n          Book now\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}","import React, {useContext} from 'react'\r\nimport './Home.css';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport DateInput from '../../components/DateInput/DateInput';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Card from '../../components/Card/Card'\r\nimport {Context} from '../../App';\r\nimport {setFromDate, setToDate, getAvailableRooms} from '../../state/actions'\r\n\r\n\r\nexport default function Home() {\r\n    const stateContainer = useContext(Context);\r\n    const [capacity, setCapacity]  = React.useState(1);\r\n    const [filteredList, setFilteredList] = React.useState([]);\r\n    React.useEffect(() => {\r\n        setFilteredList(stateContainer.state.availableRooms.filter(room => room.capacity >= capacity))\r\n    }, [capacity, stateContainer.state.availableRooms])\r\n \r\n    return (\r\n        <div className=\"home\">\r\n        <div style={{display: 'flex', marginTop: \"2rem\"}}>\r\n            <DateInput dateSetter={setFromDate(stateContainer)} label={'from'} />\r\n            <DateInput dateSetter={setToDate(stateContainer)} label={'to'} />\r\n            <TextField \r\n                onChange={e => setCapacity(e.target.value)}\r\n                error={stateContainer.state.error.isError}\r\n                label=\"capaciy\"\r\n                type=\"number\"\r\n                variant='outlined'\r\n                helperText={stateContainer.state.error.errorText}/>\r\n            <IconButton onClick={() => getAvailableRooms(stateContainer)}>\r\n                <Button \r\n                    style={{marginLeft:'1rem'}}\r\n                    variant=\"contained\" color=\"primary\"\r\n                    >Search\r\n                </Button>\r\n            </IconButton>\r\n\r\n            \r\n        </div>\r\n            {filteredList.length ? <Typography varaint=\"subtitle1\">Available rooms : {filteredList.length}</Typography>: \"\"}\r\n        <div className=\"grid\">\r\n            {\r\n                filteredList.map(room => {\r\n                    return (\r\n                        <Card \r\n                            title={room.hotel_name} \r\n                            number={room.room_number} \r\n                            price= {room.price_per_night}\r\n                            capacity={room.capacity}\r\n                            id={room.id}\r\n                        >\r\n                        </Card>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState, useContext, useEffect} from 'react'\r\nimport {useParams} from 'react-router-dom'\r\n// import axios from 'axios';\r\n// import { toast } from 'react-toastify'\r\nimport Card from '../../components/Card/Card';\r\nimport {Context} from '../../App'\r\nimport {getAvailableRooms} from '../../state/actions'\r\n\r\nexport default function HotelsRooms() {\r\n    const [rooms, setRooms] = useState([]);\r\n    const context = useContext(Context);\r\n    const { hotelId } = useParams();\r\n    useEffect( () => {\r\n        // axios.get('http://localhost:8000/api/rooms/' + hotelId)\r\n        // .then(res => {\r\n        //     setRooms(res.data);\r\n        // })\r\n        // .catch(e => {\r\n        //     console.log(e);\r\n        //     toast.error('error getting the rooms' );\r\n        // })\r\n        if(context.state.availableRooms.length === 0){\r\n            getAvailableRooms(context);\r\n        }\r\n        const filteredRooms = context.state.availableRooms.filter(room => parseInt(room.hotel_id) === parseInt(hotelId))\r\n        setRooms(filteredRooms)\r\n    }, [hotelId, context.state.availableRooms, context])\r\n    return (\r\n        <div>\r\n            {rooms.length > 0 ? <h2>rooms for {rooms[0].hotel_name} HOTEL</h2>: <div>no rooms</div>}\r\n            {rooms.map(room => {\r\n                return <Card \r\n                            title={room.hotel_name} \r\n                            number={room.room_number} \r\n                            price= {room.price_per_night}\r\n                            capacity={room.capacity}\r\n                            id={room.id}\r\n                         />\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { deepOrange, deepPurple } from '@material-ui/core/colors';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  orange: {\r\n    color: theme.palette.getContrastText(deepOrange[500]),\r\n    backgroundColor: deepOrange[500],\r\n  },\r\n  purple: {\r\n    color: theme.palette.getContrastText(deepPurple[500]),\r\n    backgroundColor: deepPurple[500],\r\n  },\r\n}));\r\n\r\nexport default function LetterAvatars({name}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Avatar className={classes.orange}>{name[0]?.toUpperCase()}</Avatar>\r\n      {/* <Avatar className={classes.purple}>OP</Avatar> */}\r\n    </div>\r\n  );\r\n}","import React, {useContext} from 'react';\r\nimport {Context} from '../../App'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport {Link} from 'react-router-dom'\r\nimport Avatar from '../Avatar/Avatar'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function ButtonAppBar({open}) {\r\n  const context = useContext(Context);\r\n  const classes = useStyles();\r\n  const AuthActions = () => {\r\n    return <>\r\n            <Link to=\"/login\">\r\n              <Button style={{color: 'white'}} >Login</Button>\r\n            </Link>\r\n            <Link to='/register'>\r\n              <Button style={{color: 'white'}} >Register</Button>\r\n            </Link>\r\n          </>\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton onClick={() =>open(true)}>\r\n            <MenuIcon style={{ color: \"white\"}}/>\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Reservation\r\n          </Typography>\r\n        {context.state.auth.user ? <Avatar name={context.state.auth.user.name}/> : <AuthActions />}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}","export const format = (date) => {\r\n  let year = date.getFullYear();\r\n  let month = date.getMonth() + 1; // because the first month has 0 index\r\n  let day = date.getDate();\r\n\r\n  // convert into string\r\n  month = String(month);\r\n\r\n  month = month.length === 1 ? \"0\" + month : month;\r\n  day = day.length === 1 ? \"0\" + day : day;\r\n\r\n  const fullDate = `${year}-${month}-${day}`;\r\n\r\n  return fullDate;\r\n};\r\n","import { format } from \"../utils/formatDate\";\r\nimport { actionTypes } from \"./actions\";\r\nconst today = format(new Date());\r\nexport const intialState = {\r\n  fromDate: today,\r\n  toDate: today,\r\n  error: {\r\n    isError: false,\r\n    errorText: \"\",\r\n  },\r\n  availableRooms: [],\r\n  hotels: [],\r\n  auth: {\r\n    user: null,\r\n    token: null,\r\n    error: null,\r\n  },\r\n  myReservations: [],\r\n};\r\nconst rootReducer = (state = intialState, action) => {\r\n  console.log(\"state logger\");\r\n  console.log({ action });\r\n  switch (action.type) {\r\n    case actionTypes.SET_AVAILABLE_ROOMS:\r\n      return {\r\n        ...state,\r\n        availableRooms: action.data,\r\n      };\r\n    case actionTypes.REMOVE_ROOM:\r\n      return {\r\n        ...state,\r\n        availableRooms: state.availableRooms.filter(\r\n          (room) => room.id !== action.roomId\r\n        ),\r\n      };\r\n    case actionTypes.SET_FROM_DATE:\r\n      return {\r\n        ...state,\r\n        fromDate: action.fromDate,\r\n      };\r\n    case actionTypes.SET_TO_DATE:\r\n      return {\r\n        ...state,\r\n        toDate: action.toDate,\r\n      };\r\n    case actionTypes.SET_HOTELS:\r\n      return {\r\n        ...state,\r\n        hotels: action.data,\r\n      };\r\n\r\n    case actionTypes.SET_ERROR:\r\n      return {\r\n        ...state,\r\n        error: action.data,\r\n      };\r\n    case actionTypes.SET_AUTH_ERROR:\r\n      return {\r\n        ...state,\r\n        auth: {\r\n          ...state.auth,\r\n          error: action.error,\r\n        },\r\n      };\r\n    case actionTypes.SET_USER:\r\n      return {\r\n        ...state,\r\n        auth: action.data,\r\n      };\r\n    case actionTypes.SET_USER_RESERVATIONS:\r\n      return {\r\n        ...state,\r\n        myReservations: action.data,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default rootReducer;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\n\r\n\r\nexport default function BasicTable({rows}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Hotel name</TableCell>\r\n            <TableCell align=\"right\">from</TableCell>\r\n            <TableCell align=\"right\">To</TableCell>\r\n            <TableCell align=\"right\">Room Number</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {rows.map((row) => (\r\n            <TableRow key={row.name}>\r\n              <TableCell component=\"th\" scope=\"row\">\r\n                {row.name}\r\n              </TableCell>\r\n              <TableCell align=\"right\">{row.start_date}</TableCell>\r\n              <TableCell align=\"right\">{row.end_date}</TableCell>\r\n          \r\n              <TableCell align=\"right\">{row.room_number}</TableCell>\r\n            \r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}","import React, {useEffect, useContext} from 'react'\r\nimport {Context} from '../../App'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {toast} from 'react-toastify'\r\nimport {getUserReservations} from '../../state/actions'\r\nimport Table from '../../components/Table/Table'\r\n\r\n\r\n\r\nexport default function MyReservations() {\r\n    const context  = useContext(Context);\r\n    useEffect(() => {\r\n        if(context.state.auth.user){\r\n            getUserReservations(context);\r\n        }\r\n    }, [context.state.auth.user, getUserReservations])\r\n    \r\n    if(!context.state.auth.user){\r\n        toast('please login first')\r\n        return <Redirect to=\"/login\" />\r\n    }\r\n    return <Table rows={context.state.myReservations} />;\r\n    \r\n}\r\n","import React, {useContext, useState} from 'react'\r\nimport {Context} from '../../App'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { Button, Typography } from '@material-ui/core'\r\nimport {CreateHotel} from '../../state/actions'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\nexport default function AddHotel() {\r\n    const context = useContext(Context);\r\n    const [name, setName] = useState('')\r\n    if(!context.state.auth.user) return <Redirect to='/login'/>\r\n    \r\n    return (\r\n        <div>\r\n            <form>\r\n                <Typography variant=\"h3\" >add new hotel</Typography>\r\n                <div>\r\n                <TextField\r\n                onChange={e => setName(e.target.value)}\r\n                autoComplete=\"false\" name=\"name\" label=\"Hotel Name\" />\r\n                </div>\r\n                <Button onClick={() => CreateHotel(context, name)} >Create</Button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Context} from '../../App'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { Button, Typography } from '@material-ui/core'\r\nimport {getHotels} from '../../state/actions'\r\nimport { Redirect, useHistory } from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport {toast} from 'react-toastify'\r\n\r\n\r\n\r\n\r\n\r\nexport default function AddRoom() {\r\n    const context = React.useContext(Context)\r\n    const [data, setData] = React.useState({\r\n        room_number:null,\r\n        hotel_id: null,\r\n        price_per_night: null,\r\n        capacity: null\r\n    })\r\n    const history = useHistory();\r\n    const {user} = context.state.auth;\r\n    const handleChange = e => setData(prevState =>( {...prevState, [e.target.name]: parseInt(e.target.value)} ))\r\n    const handleSubmit = () => {\r\n        axios.post('/api/rooms', data, {\r\n            headers: {\r\n                Authorization: \"Bearer \" + context.state.auth.token\r\n            }\r\n        })\r\n        .then(res =>{\r\n            toast('room created successfully')\r\n            history.push('/')\r\n        })\r\n        .catch(console.log)\r\n    }\r\n    \r\n    React.useEffect(() => {\r\n        if(user){\r\n            if(!context.state.hotels.length){\r\n                getHotels(context)\r\n            }\r\n        }\r\n    }, [])\r\n    if(!user) return <Redirect to=\"/login\"/>\r\n    \r\n    return (\r\n        <div>\r\n            <form>\r\n                <Typography variant=\"h3\"  >Add New Room</Typography>\r\n                <div>\r\n                    <TextField\r\n                    onChange={handleChange}\r\n                    required\r\n                    name=\"room_number\"\r\n                    autoComplete=\"false\" label=\"Room Number\" />\r\n                </div>\r\n                <div>\r\n                    <select onChange={handleChange} name=\"hotel_id\">\r\n                        <option>choose a hotel</option>\r\n                            {context.state.hotels.map(hotel => <option\r\n                            \r\n                            key={`option-${hotel.id}`} value={hotel.id}>{hotel.name}</option>\r\n                            )}\r\n                    </select>\r\n                </div>\r\n                \r\n                <div>\r\n                    <TextField\r\n                    onChange={handleChange}\r\n                        required\r\n                        name=\"price_per_night\"\r\n                        autoComplete=\"false\" label=\"Room price_per_night per night\" />\r\n                </div>\r\n\r\n                <div>\r\n                    <TextField\r\n                    onChange={handleChange}\r\n                        required\r\n                        name=\"capacity\"\r\n                        autoComplete=\"false\" label=\"Room capacity\" />\r\n                </div>\r\n                \r\n\r\n                <Button onClick={handleSubmit} >Create Room</Button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import \"./App.css\";\nimport React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { List, ListItemText, ListItemIcon, ListItem } from \"@material-ui/core\";\nimport { Hotel, HomeOutlined, AddBox, ListRounded } from \"@material-ui/icons\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport RegisterPage from \"./Pages/RegisterPage/RegisterPage\";\nimport LoginPage from \"./Pages/Login/Login\";\nimport HotelsPage from \"./Pages/Hotels/HotelsPage\";\nimport HomePage from \"./Pages/Home/Home\";\nimport HotelRooms from \"./Pages/HotelRooms/HotelRooms\";\nimport Header from \"./components/Header/Header\";\nimport { useReducer } from \"react\";\nimport rootReducer, { intialState } from \"./state/rootReducer\";\nimport axios from \"axios\";\nimport MyReservations from \"./Pages/MyReservationsPage/MyReservations\";\nimport AddHotelPage from \"./Pages/AddHotel/AddHotel\";\nimport AddRoom from \"./Pages/AddRoom/AddRoom\";\n\nexport const Context = React.createContext();\n\nconst useStyles = makeStyles({\n  list: {\n    width: 250,\n  },\n  listItem: {\n    color: \"#000\",\n    textDecoration: \"none\",\n  },\n});\n\nfunction App() {\n  const [state, dispatch] = useReducer(rootReducer, intialState);\n  const classes = useStyles();\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  React.useEffect(() => {\n    axios.get(\"/sanctum/csrf-cookie\").catch(console.log);\n  }, []);\n\n  const AdminActions = (\n    <>\n      <ListItem>\n        <ListItemIcon>\n          <AddBox />\n        </ListItemIcon>\n        <Link\n          className={classes.listItem}\n          to=\"/add-hotel\"\n          onClick={() => setIsOpen((state) => !state)}\n        >\n          <ListItemText primary={\"add hotel\"}></ListItemText>\n        </Link>\n      </ListItem>\n      <ListItem>\n        <ListItemIcon>\n          <AddBox />\n        </ListItemIcon>\n        <Link\n          className={classes.listItem}\n          to=\"/add-room\"\n          onClick={() => setIsOpen((state) => !state)}\n        >\n          <ListItemText primary={\"add Room\"}></ListItemText>\n        </Link>\n      </ListItem>\n    </>\n  );\n\n  return (\n    <Context.Provider\n      value={{\n        state,\n        dispatch,\n      }}\n    >\n      <Router>\n        <div className=\"App\">\n          <ToastContainer />\n          <Header open={setIsOpen} />\n          <Drawer\n            className=\"myDrawer\"\n            open={isOpen}\n            onClose={() => setIsOpen(false)}\n          >\n            <div className={classes.list}>\n              <List>\n                <ListItem>\n                  <ListItemIcon>\n                    <HomeOutlined />\n                  </ListItemIcon>\n                  <Link\n                    className={classes.listItem}\n                    to=\"/\"\n                    onClick={() => setIsOpen((state) => !state)}\n                  >\n                    <ListItemText primary={\"Home\"}></ListItemText>\n                  </Link>\n                </ListItem>\n                <ListItem>\n                  <ListItemIcon>\n                    <Hotel />\n                  </ListItemIcon>\n                  <Link\n                    className={classes.listItem}\n                    to=\"/hotels\"\n                    onClick={() => setIsOpen((state) => !state)}\n                  >\n                    <ListItemText primary={\"Hotels\"}></ListItemText>\n                  </Link>\n                </ListItem>\n                {state.auth.user?.admin ? AdminActions : null}\n                <ListItem>\n                  <ListItemIcon>\n                    <ListRounded />\n                  </ListItemIcon>\n                  <Link\n                    className={classes.listItem}\n                    to=\"/myreservations\"\n                    onClick={() => setIsOpen((state) => !state)}\n                  >\n                    <ListItemText primary={\"my Rservations\"}></ListItemText>\n                  </Link>\n                </ListItem>\n              </List>\n            </div>\n          </Drawer>\n        </div>\n        <Switch>\n          <Route path=\"/login\">\n            <LoginPage />\n          </Route>\n          <Route path=\"/hotelRooms/:hotelId\">\n            <HotelRooms />\n          </Route>\n          <Route path=\"/register\">\n            <RegisterPage />\n          </Route>\n          <Route exact path=\"/\">\n            <HomePage />\n          </Route>\n          <Route path=\"/hotels\">\n            <HotelsPage />\n          </Route>\n          <Route path=\"/myreservations\">\n            <MyReservations />\n          </Route>\n          {state.auth.user?.admin && (\n            <Route path=\"/add-hotel\">\n              <AddHotelPage />\n            </Route>\n          )}\n          {state.auth.user?.admin && (\n            <Route path=\"/add-room\">\n              <AddRoom />\n            </Route>\n          )}\n        </Switch>\n      </Router>\n    </Context.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}